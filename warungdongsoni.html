<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Warung We Soni - Kuliner Autentik Bali</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&amp;family=Quicksand:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Quicksand', sans-serif;
    }
    .font-display {
      font-family: 'Libre Baskerville', serif;
    }
    .hero-pattern {
      background-color: #7c2d12;
      background-image: 
        repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.05) 35px, rgba(255,255,255,.05) 70px);
    }
    .card-menu {
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .card-menu:hover {
      transform: translateY(-12px) scale(1.03);
    }
    .shine-effect {
      position: relative;
      overflow: hidden;
    }
    .shine-effect::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        45deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
      );
      transform: translateX(-100%);
      transition: transform 0.6s;
    }
    .shine-effect:hover::before {
      transform: translateX(100%);
    }
    .float-anim {
      animation: float 6s ease-in-out infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }
    .fade-in-up {
      animation: fadeInUp 0.8s ease-out forwards;
      opacity: 0;
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .stagger-1 { animation-delay: 0.1s; }
    .stagger-2 { animation-delay: 0.2s; }
    .stagger-3 { animation-delay: 0.3s; }
    .stagger-4 { animation-delay: 0.4s; }
    .stagger-5 { animation-delay: 0.5s; }
    .scroll-reveal {
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .scroll-reveal.revealed {
      opacity: 1;
      transform: translateY(0);
    }
    .scale-in {
      opacity: 0;
      transform: scale(0.9);
      transition: opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .scale-in.revealed {
      opacity: 1;
      transform: scale(1);
    }
    @keyframes slideInRight {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
    .pulse-glow {
      animation: pulseGlow 2s ease-in-out infinite;
    }
    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 20px rgba(234, 88, 12, 0.4); }
      50% { box-shadow: 0 0 30px rgba(234, 88, 12, 0.6); }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full">
  <div id="app" class="min-h-full w-full bg-amber-50"><!-- Navigation -->
   <nav class="bg-gradient-to-r from-orange-900 via-orange-800 to-orange-900 text-amber-50 sticky top-0 z-50 shadow-2xl">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="flex items-center justify-between h-20">
      <div class="flex items-center gap-3">
       <div class="w-14 h-14 bg-amber-500 rounded-full flex items-center justify-center text-3xl shadow-lg hover:rotate-12 transition-transform duration-300">
        üçú
       </div>
       <div>
        <h1 id="warung-name" class="font-display text-2xl md:text-3xl font-bold text-amber-50">Warung We Soni</h1>
        <p class="text-xs text-amber-200 font-medium">Kuliner Autentik Bali</p>
       </div>
      </div>
      <div class="hidden lg:flex items-center gap-1"><a href="#home" class="px-5 py-2 rounded-xl hover:bg-orange-800 transition-all font-medium">Beranda</a> <a href="#menu" class="px-5 py-2 rounded-xl hover:bg-orange-800 transition-all font-medium">Menu</a> <a href="#about" class="px-5 py-2 rounded-xl hover:bg-orange-800 transition-all font-medium">Tentang</a> <a href="#location" class="px-5 py-2 rounded-xl hover:bg-orange-800 transition-all font-medium">Lokasi</a>
      </div><button onclick="toggleMobileMenu()" class="lg:hidden p-2 hover:bg-orange-800 rounded-xl transition-colors">
       <svg class="w-7 h-7" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
       </svg></button> <button onclick="toggleOrders()" class="relative p-3 hover:bg-orange-800 rounded-xl transition-all hover:scale-110 hidden lg:block">
       <svg class="w-7 h-7" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
       </svg><span id="order-badge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center hidden shadow-lg">0</span> </button>
     </div>
    </div>
   </nav><!-- Mobile Menu -->
   <div id="mobile-menu" class="lg:hidden fixed inset-0 z-40 hidden">
    <div class="absolute inset-0 bg-black/70 backdrop-blur-sm" onclick="toggleMobileMenu()"></div>
    <div class="absolute top-0 right-0 w-72 h-full bg-white shadow-2xl p-6" style="animation: slideInRight 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);">
     <div class="flex justify-between items-center mb-8">
      <h3 class="font-display text-2xl text-orange-900">Menu</h3><button onclick="toggleMobileMenu()" class="p-2 hover:bg-orange-100 rounded-xl transition-colors">
       <svg class="w-6 h-6 text-orange-900" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
       </svg></button>
     </div>
     <div class="space-y-2"><a href="#home" onclick="toggleMobileMenu()" class="block px-4 py-3 rounded-xl hover:bg-orange-100 text-orange-900 font-medium transition-all">üè† Beranda</a> <a href="#menu" onclick="toggleMobileMenu()" class="block px-4 py-3 rounded-xl hover:bg-orange-100 text-orange-900 font-medium transition-all">üçΩÔ∏è Menu</a> <a href="#about" onclick="toggleMobileMenu()" class="block px-4 py-3 rounded-xl hover:bg-orange-100 text-orange-900 font-medium transition-all">‚ÑπÔ∏è Tentang</a> <a href="#location" onclick="toggleMobileMenu()" class="block px-4 py-3 rounded-xl hover:bg-orange-100 text-orange-900 font-medium transition-all">üìç Lokasi</a> <button onclick="toggleOrders(); toggleMobileMenu();" class="w-full text-left px-4 py-3 rounded-xl hover:bg-orange-100 text-orange-900 font-medium transition-all flex items-center justify-between"> <span>üõí Pesanan Saya</span> <span id="mobile-order-badge" class="hidden bg-orange-600 text-white text-xs font-bold px-2 py-1 rounded-full">0</span> </button>
     </div>
    </div>
   </div><!-- Hero Section -->
   <section id="home" class="hero-pattern text-amber-50 py-20 md:py-32 lg:py-40 relative overflow-hidden">
    <div class="absolute inset-0 opacity-10">
     <div class="absolute top-20 left-10 text-8xl float-anim">
      üçú
     </div>
     <div class="absolute bottom-32 right-10 text-8xl float-anim" style="animation-delay: 1s;">
      ü•ò
     </div>
     <div class="absolute top-1/3 right-1/4 text-7xl float-anim" style="animation-delay: 2s;">
      üçõ
     </div>
     <div class="absolute bottom-1/3 left-1/4 text-7xl float-anim" style="animation-delay: 3s;">
      ü•ó
     </div>
    </div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
     <div class="text-center">
      <div class="inline-block mb-6">
       <div class="text-7xl md:text-9xl fade-in-up stagger-1 inline-block hover:scale-110 transition-transform cursor-pointer">
        üçú
       </div>
      </div>
      <h2 id="hero-title" class="font-display text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 fade-in-up stagger-2 leading-tight">Rasa Autentik Bali</h2>
      <p id="hero-subtitle" class="text-base sm:text-lg md:text-xl lg:text-2xl text-amber-100 max-w-3xl mx-auto mb-10 fade-in-up stagger-3 leading-relaxed px-4">Nikmati hidangan tradisional Bali dengan cita rasa rumahan yang khas. Setiap sajian dibuat dengan resep turun temurun dan bahan pilihan terbaik.</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center fade-in-up stagger-4"><a href="#menu" class="shine-effect bg-amber-500 text-orange-900 font-bold px-8 md:px-12 py-4 md:py-5 rounded-2xl text-base md:text-lg shadow-2xl hover:bg-amber-400 hover:scale-105 transition-all w-full sm:w-auto"> Lihat Menu üçΩÔ∏è </a> <button onclick="openContactModal()" class="shine-effect bg-white/20 backdrop-blur-sm font-semibold px-8 md:px-12 py-4 md:py-5 rounded-2xl text-base md:text-lg hover:bg-white/30 transition-all w-full sm:w-auto border-2 border-white/30"> Hubungi Kami üìû </button>
      </div>
     </div>
    </div>
   </section><!-- Special Offers -->
   <section class="py-12 bg-gradient-to-r from-orange-600 to-red-600 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="flex flex-col md:flex-row items-center justify-between gap-6">
      <div class="flex items-center gap-4">
       <div class="text-5xl pulse-glow">
        ‚≠ê
       </div>
       <div>
        <h3 class="font-display text-2xl md:text-3xl font-bold mb-1">Promo Spesial Hari Ini!</h3>
        <p class="text-amber-100">Beli 2 Menu Utama, Gratis 1 Minuman Es</p>
       </div>
      </div><button onclick="openContactModal()" class="shine-effect bg-white text-orange-600 font-bold px-8 py-4 rounded-2xl hover:bg-amber-50 transition-all shadow-lg whitespace-nowrap"> Pesan Sekarang! üî• </button>
     </div>
    </div>
   </section><!-- Menu Categories -->
   <section id="menu" class="py-16 md:py-24 lg:py-32 bg-amber-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center mb-12 md:mb-20">
      <div class="inline-block mb-4 scale-in"><span class="bg-gradient-to-r from-orange-600 to-red-600 text-white px-6 py-2 rounded-full text-sm font-semibold shadow-lg">üçΩÔ∏è Menu Kami</span>
      </div>
      <h2 class="font-display text-4xl md:text-5xl lg:text-6xl text-orange-900 mb-4 font-bold scroll-reveal">Hidangan Pilihan</h2>
      <p class="text-lg md:text-xl text-orange-800/80 max-w-2xl mx-auto scroll-reveal">Sajian khas dengan cita rasa tradisional yang menggugah selera</p>
     </div><!-- Menu Tabs -->
     <div class="flex flex-wrap justify-center gap-3 mb-12 scroll-reveal">
      <div class="px-6 py-3 rounded-xl font-semibold bg-orange-600 text-white shadow-lg">
       üçΩÔ∏è Menu Spesial Kami
      </div>
     </div>
     <div id="menu-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8"><!-- Menu items will be rendered here -->
     </div>
    </div>
   </section><!-- About Section -->
   <section id="about" class="py-20 lg:py-32 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="grid md:grid-cols-2 gap-12 items-center">
      <div class="scroll-reveal">
       <div class="relative">
        <div class="aspect-square rounded-3xl overflow-hidden shadow-2xl bg-gradient-to-br from-orange-200 to-amber-300 flex items-center justify-center">
         <div class="text-9xl">
          üè™
         </div>
        </div>
        <div class="absolute -bottom-6 -right-6 w-32 h-32 bg-orange-600 rounded-3xl opacity-20"></div>
        <div class="absolute -top-6 -left-6 w-24 h-24 bg-amber-500 rounded-3xl opacity-20"></div>
       </div>
      </div>
      <div class="scroll-reveal">
       <div class="inline-block mb-4"><span class="bg-orange-100 text-orange-800 px-4 py-2 rounded-full text-sm font-semibold">Tentang Kami</span>
       </div>
       <h2 class="font-display text-4xl md:text-5xl text-orange-900 mb-6 font-bold">Warung We Soni</h2>
       <p id="about-text" class="text-base md:text-lg text-orange-800/90 mb-6 leading-relaxed">Warung We Soni adalah warung makan keluarga yang menyajikan masakan khas Bali dengan cita rasa autentik. Sejak tahun 2010, kami telah melayani ribuan pelanggan dengan hidangan berkualitas dan harga terjangkau. Setiap hidangan dibuat dengan penuh cinta menggunakan resep tradisional dan bumbu-bumbu pilihan.</p>
       <div class="grid grid-cols-2 gap-6 mb-8">
        <div class="text-center p-4 bg-orange-50 rounded-2xl">
         <div class="text-4xl font-bold text-orange-600 mb-1">
          13+
         </div>
         <p class="text-sm text-orange-800">Tahun Berpengalaman</p>
        </div>
        <div class="text-center p-4 bg-orange-50 rounded-2xl">
         <div class="text-4xl font-bold text-orange-600 mb-1">
          50+
         </div>
         <p class="text-sm text-orange-800">Menu Pilihan</p>
        </div>
       </div>
       <div class="space-y-4">
        <div class="flex items-center gap-3">
         <div class="w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-white flex-shrink-0">
          ‚úì
         </div><span class="text-orange-900 font-medium">Bahan segar setiap hari</span>
        </div>
        <div class="flex items-center gap-3">
         <div class="w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-white flex-shrink-0">
          ‚úì
         </div><span class="text-orange-900 font-medium">Resep tradisional turun-temurun</span>
        </div>
        <div class="flex items-center gap-3">
         <div class="w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-white flex-shrink-0">
          ‚úì
         </div><span class="text-orange-900 font-medium">Harga terjangkau untuk semua</span>
        </div>
       </div>
      </div>
     </div>
    </div>
   </section><!-- Testimonials -->
   <section class="py-20 lg:py-32 bg-amber-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center mb-16 scroll-reveal">
      <h2 class="font-display text-4xl md:text-5xl text-orange-900 mb-4 font-bold">Kata Pelanggan Kami</h2>
      <p class="text-lg md:text-xl text-orange-800/80">Testimoni dari pelanggan setia Warung We Soni</p>
     </div>
     <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
      <div class="bg-white rounded-3xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all scroll-reveal">
       <div class="flex gap-1 mb-4"><span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span>
       </div>
       <p class="text-orange-800 mb-6 italic leading-relaxed">"Mantap.. Tapi tempat nya susah di cari..karena masuk ke gangüòÅ"</p>
       <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center text-white font-bold text-lg">
         IW
        </div>
        <div>
         <p class="font-semibold text-orange-900">I Wayan Suhendra</p>
         <p class="text-sm text-orange-600">Google Review</p>
        </div>
       </div>
      </div>
      <div class="bg-white rounded-3xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all scroll-reveal">
       <div class="flex gap-1 mb-4"><span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span>
       </div>
       <p class="text-orange-800 mb-6 italic leading-relaxed">"Tempat makan paling enak di Bali"</p>
       <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-white font-bold text-lg">
         KA
        </div>
        <div>
         <p class="font-semibold text-orange-900">Ketut Arimbawa</p>
         <p class="text-sm text-orange-600">Google Review</p>
        </div>
       </div>
      </div>
      <div class="bg-white rounded-3xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all scroll-reveal">
       <div class="flex gap-1 mb-4"><span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span>
       </div>
       <p class="text-orange-800 mb-6 italic leading-relaxed">"Murah meriah. Tempatnya rame banget. Rasanya enak."</p>
       <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-red-400 to-orange-500 flex items-center justify-center text-white font-bold text-lg">
         NN
        </div>
        <div>
         <p class="font-semibold text-orange-900">Ni Nyoman Supiani</p>
         <p class="text-sm text-orange-600">Google Review</p>
        </div>
       </div>
      </div>
      <div class="bg-white rounded-3xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all scroll-reveal">
       <div class="flex gap-1 mb-4"><span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span> <span class="text-2xl">‚≠ê</span>
       </div>
       <p class="text-orange-800 mb-6 italic leading-relaxed">"Tipat plecingnya paling enak di tanjung benoa... Murah pokoknyaa smbil menikmati sunset di pantai tanjung"</p>
       <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-white font-bold text-lg">
         7
        </div>
        <div>
         <p class="font-semibold text-orange-900">7 tahun lalu</p>
         <p class="text-sm text-orange-600">Google Review</p>
        </div>
       </div>
      </div>
     </div>
    </div>
   </section><!-- Location Section -->
   <section id="location" class="py-20 lg:py-32 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center mb-16 scroll-reveal">
      <h2 class="font-display text-4xl md:text-5xl text-orange-900 mb-4 font-bold">Kunjungi Kami</h2>
      <p class="text-lg md:text-xl text-orange-800/80">Lokasi mudah dijangkau di Bali</p>
     </div>
     <div class="grid md:grid-cols-2 gap-12">
      <div class="bg-amber-50 rounded-3xl shadow-xl p-6 md:p-8 scroll-reveal">
       <h3 class="font-display text-2xl md:text-3xl text-orange-900 mb-6 font-bold">INFORMASI KONTAK</h3>
       <div class="space-y-6">
        <div class="flex items-start gap-4">
         <div class="w-12 h-12 bg-orange-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-lg">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
         </div>
         <div>
          <h4 class="font-semibold text-orange-900 mb-1 text-base md:text-lg">Alamat</h4>
          <p id="contact-address" class="text-orange-800 text-sm md:text-base">Bali, Indonesia</p>
          <p class="text-xs md:text-sm text-orange-700">Koordinat: -8.7530809, 115.217474</p>
         </div>
        </div>
        <div class="flex items-start gap-4">
         <div class="w-12 h-12 bg-orange-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-lg">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
         </div>
         <div>
          <h4 class="font-semibold text-orange-900 mb-1 text-base md:text-lg">Jam Buka</h4>
          <p class="text-orange-800 text-sm md:text-base">Setiap Hari</p>
          <p class="text-orange-800 font-semibold text-sm md:text-base">08:00 - 21:00 WITA</p>
         </div>
        </div>
        <div class="flex items-start gap-4">
         <div class="w-12 h-12 bg-orange-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-lg">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg>
         </div>
         <div>
          <h4 class="font-semibold text-orange-900 mb-1 text-base md:text-lg">Kontak</h4>
          <p id="contact-phone" class="text-orange-800 text-sm md:text-base">Telepon: +62 xxx xxxx xxxx</p><button onclick="openContactModal()" class="text-orange-600 font-semibold text-sm md:text-base hover:text-orange-700 transition-colors mt-1"> Hubungi via WhatsApp ‚Üí </button>
         </div>
        </div>
       </div><a href="https://www.google.com/maps/place/Warung+We+Soni/@-8.7535829,115.2181591,18z" target="_blank" rel="noopener noreferrer" class="block w-full mt-8 bg-orange-600 hover:bg-orange-700 text-center text-white font-bold py-3 md:py-4 rounded-xl shadow-lg text-sm md:text-base transition-colors"> Buka di Google Maps üìç </a>
      </div>
      <div class="bg-white rounded-3xl shadow-2xl overflow-hidden h-96 md:h-auto scroll-reveal"><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d987.6823698772433!2d115.2181591!3d-8.7535829!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd243bf23632257%3A0x4447618d7cc6d4e2!2sWarung%20We%20Soni!5e0!3m2!1sen!2sid!4v1706000000000!5m2!1sen!2sid" width="100%" height="100%" style="border:0;" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"> </iframe>
      </div>
     </div>
    </div>
   </section><!-- Footer -->
   <footer class="bg-gradient-to-br from-orange-900 via-orange-800 to-red-900 text-amber-50 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center">
      <div class="text-6xl mb-4">
       üçú
      </div>
      <h3 class="font-display text-3xl mb-2 font-bold">Warung We Soni</h3>
      <p class="text-amber-200 mb-6">Kuliner Autentik Bali</p>
      <div class="flex justify-center gap-6 mb-8"><span class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 cursor-pointer transition-all hover:scale-110">
        <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24">
         <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
        </svg></span> <span class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 cursor-pointer transition-all hover:scale-110">
        <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24">
         <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
        </svg></span> <span class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 cursor-pointer transition-all hover:scale-110">
        <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24">
         <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
        </svg></span>
      </div>
      <p class="text-amber-200/80 text-sm">¬© 2024 Warung We Soni. Semua hak dilindungi.</p>
     </div>
    </div>
   </footer><!-- Order Modal -->
   <div id="order-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeOrderModal()"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-3xl shadow-2xl max-w-md w-full mx-4 p-8 max-h-[90%] overflow-y-auto">
     <div class="text-center mb-6">
      <div id="modal-emoji" class="text-7xl mb-4">
       üçú
      </div>
      <h3 id="modal-title" class="font-display text-3xl text-orange-900 mb-2">Pesan Menu</h3>
      <p id="modal-price" class="text-3xl font-bold text-orange-600 mt-4">Rp 25.000</p>
     </div>
     <form onsubmit="submitOrder(event)" class="space-y-4">
      <div><label for="customer-name" class="block text-sm font-semibold text-orange-900 mb-2">Nama Pemesan</label> <input type="text" id="customer-name" name="customer-name" required class="w-full px-4 py-3 rounded-xl border-2 border-orange-200 focus:border-orange-500 focus:outline-none" placeholder="Masukkan nama Anda">
      </div>
      <div><label for="phone" class="block text-sm font-semibold text-orange-900 mb-2">Nomor Telepon</label> <input type="tel" id="phone" name="phone" required class="w-full px-4 py-3 rounded-xl border-2 border-orange-200 focus:border-orange-500 focus:outline-none" placeholder="+62 xxx xxxx xxxx">
      </div>
      <div><label for="table-number" class="block text-sm font-semibold text-orange-900 mb-2">Nomor Meja (Opsional)</label> <input type="text" id="table-number" name="table-number" class="w-full px-4 py-3 rounded-xl border-2 border-orange-200 focus:border-orange-500 focus:outline-none" placeholder="Contoh: Meja 5">
      </div>
      <div><label for="quantity" class="block text-sm font-semibold text-orange-900 mb-2">Jumlah Porsi</label> <input type="number" id="quantity" name="quantity" min="1" max="20" value="1" required class="w-full px-4 py-3 rounded-xl border-2 border-orange-200 focus:border-orange-500 focus:outline-none">
      </div>
      <div><label for="order-notes" class="block text-sm font-semibold text-orange-900 mb-2">Catatan Pesanan (Opsional)</label> <textarea id="order-notes" name="order-notes" rows="3" placeholder="Contoh: Tidak pakai cabe, tambah nasi" class="w-full px-4 py-3 rounded-xl border-2 border-orange-200 focus:border-orange-500 focus:outline-none resize-none"></textarea>
      </div>
      <div class="flex gap-3 pt-4"><button type="button" onclick="closeOrderModal()" class="flex-1 px-6 py-3 rounded-xl border-2 border-orange-300 text-orange-900 font-semibold hover:bg-orange-50 transition-colors"> Batal </button> <button type="submit" id="submit-order-btn" class="flex-1 px-6 py-3 rounded-xl bg-orange-600 hover:bg-orange-700 text-white font-semibold transition-colors"> Pesan Sekarang </button>
      </div>
     </form>
    </div>
   </div><!-- Orders Sidebar -->
   <div id="orders-sidebar" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="toggleOrders()"></div>
    <div class="absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl overflow-auto" style="animation: slideInRight 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);">
     <div class="flex flex-col h-full">
      <div class="flex items-center justify-between p-6 border-b border-orange-200 bg-amber-50">
       <h2 class="font-display text-3xl text-orange-900">PESANAN SAYA</h2><button onclick="toggleOrders()" class="p-2 hover:bg-orange-200 rounded-full transition-colors">
        <svg class="w-6 h-6 text-orange-900" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg></button>
      </div>
      <div id="orders-list" class="flex-1 overflow-y-auto p-6 bg-amber-50"><!-- Orders will be rendered here -->
      </div>
     </div>
    </div>
   </div><!-- Contact Modal -->
   <div id="contact-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeContactModal()"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-3xl shadow-2xl max-w-md w-full mx-4 p-8">
     <div class="text-center mb-6">
      <div class="text-7xl mb-4">
       üìû
      </div>
      <h3 class="font-display text-3xl text-orange-900 mb-2">HUBUNGI KAMI</h3>
      <p class="text-orange-700">Kami siap melayani Anda!</p>
     </div>
     <div class="space-y-4 mb-6"><a id="whatsapp-link" href="https://wa.me/6281234567890?text=Halo,%20saya%20mau%20pesan%20makanan%20di%20Warung%20We%20Soni" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors">
       <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl flex-shrink-0">
        <svg class="w-7 h-7" fill="currentColor" viewbox="0 0 24 24">
         <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
        </svg>
       </div>
       <div>
        <p class="font-semibold text-green-900">WhatsApp</p>
        <p id="whatsapp-display" class="text-sm text-green-700">+62 812-3456-7890</p>
       </div></a> <a href="tel:+62" class="flex items-center gap-4 p-4 rounded-xl bg-orange-50 hover:bg-orange-100 transition-colors">
       <div class="w-12 h-12 bg-orange-600 rounded-full flex items-center justify-center text-white text-2xl flex-shrink-0">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
        </svg>
       </div>
       <div>
        <p class="font-semibold text-orange-900">Telepon</p>
        <p class="text-sm text-orange-700">+62 xxx xxxx xxxx</p>
       </div></a>
     </div><button onclick="closeContactModal()" class="w-full px-6 py-3 rounded-xl border-2 border-orange-300 text-orange-900 font-semibold hover:bg-orange-50 transition-colors"> Tutup </button>
    </div>
   </div><!-- Toast Notification -->
   <div id="toast" class="fixed bottom-8 right-8 bg-orange-900 text-white px-6 py-4 rounded-2xl shadow-2xl transform translate-y-32 opacity-0 transition-all duration-300 z-50">
    <div class="flex items-center gap-3">
     <svg class="w-6 h-6 text-amber-300" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
     </svg><span id="toast-message" class="font-medium">Pesanan berhasil!</span>
    </div>
   </div>
  </div>
  <script>
    const menuItems = [
      { id: 'm1', name: 'Rujak Kuah Pindang', category: 'makanan', price: 15000, emoji: 'ü•ó', description: 'Rujak segar dengan kuah pindang khas Bali' },
      { id: 'm2', name: 'Batu-Batu', category: 'makanan', price: 12000, emoji: 'üç≤', description: 'Hidangan tradisional khas Bali' },
      { id: 'm3', name: 'Tipat Plecing', category: 'makanan', price: 10000, emoji: 'üå∂Ô∏è', description: 'Ketupat dengan sambal plecing pedas - paling enak di Tanjung Benoa!' }
    ];

    let orders = [];
    let currentMenuItem = null;

    const defaultConfig = {
      warung_name: 'Warung We Soni',
      hero_title: 'Warung Legendaris Tanjung Benoa',
      hero_subtitle: 'Tempat makan paling enak di Bali dengan Tipat Plecing terbaik di Tanjung Benoa. Nikmati sunset sambil menikmati hidangan khas Bali yang murah meriah!',
      about_text: 'Warung We Soni adalah warung makan legendaris di Tanjung Benoa yang terkenal dengan Tipat Plecing-nya yang paling enak. Meskipun tempatnya agak susah dicari karena masuk ke gang, warung ini selalu ramai pengunjung. Dengan harga yang sangat terjangkau dan rasa yang mantap, warung ini menjadi favorit warga lokal dan wisatawan. Lokasi strategis dekat pantai membuat Anda bisa menikmati hidangan sambil melihat sunset yang indah.',
      whatsapp_number: '6281234567890',
      contact_phone: 'Telepon: +62 361 123456',
      contact_address: 'Jalan Pantai Tanjung Benoa, Tanjung Benoa, Kec. Kuta Selatan, Kabupaten Badung, Bali 80363',
      background_color: '#fef3c7',
      surface_color: '#ffffff',
      text_color: '#7c2d12',
      primary_color: '#ea580c',
      secondary_color: '#dc2626'
    };

    const dataHandler = {
      onDataChanged(data) {
        orders = data;
        renderOrders();
        updateOrderBadge();
      }
    };

    async function onConfigChange(config) {
      const warungName = config.warung_name || defaultConfig.warung_name;
      const heroTitle = config.hero_title || defaultConfig.hero_title;
      const heroSubtitle = config.hero_subtitle || defaultConfig.hero_subtitle;
      const aboutText = config.about_text || defaultConfig.about_text;
      const whatsappNumber = config.whatsapp_number || defaultConfig.whatsapp_number;
      const contactPhone = config.contact_phone || defaultConfig.contact_phone;
      const contactAddress = config.contact_address || defaultConfig.contact_address;
      const backgroundColor = config.background_color || defaultConfig.background_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_color || defaultConfig.primary_color;

      document.getElementById('warung-name').textContent = warungName;
      document.getElementById('hero-title').textContent = heroTitle;
      document.getElementById('hero-subtitle').textContent = heroSubtitle;
      document.getElementById('about-text').textContent = aboutText;
      document.getElementById('contact-phone').textContent = contactPhone;
      document.getElementById('contact-address').textContent = contactAddress;

      const whatsappLink = document.getElementById('whatsapp-link');
      const whatsappDisplay = document.getElementById('whatsapp-display');
      if (whatsappLink && whatsappNumber) {
        whatsappLink.href = `https://wa.me/${whatsappNumber}?text=Halo,%20saya%20mau%20pesan%20makanan%20di%20Warung%20We%20Soni`;
        if (whatsappDisplay) {
          const formatted = whatsappNumber.replace(/(\d{2})(\d{3})(\d{4})(\d{4})/, '+$1 $2-$3-$4');
          whatsappDisplay.textContent = formatted;
        }
      }

      document.body.style.backgroundColor = backgroundColor;
      document.getElementById('app').style.backgroundColor = backgroundColor;

      renderMenu();
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => { config.background_color = value; window.elementSdk.setConfig({ background_color: value }); }
          },
          {
            get: () => config.surface_color || defaultConfig.surface_color,
            set: (value) => { config.surface_color = value; window.elementSdk.setConfig({ surface_color: value }); }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => { config.text_color = value; window.elementSdk.setConfig({ text_color: value }); }
          },
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => { config.primary_color = value; window.elementSdk.setConfig({ primary_color: value }); }
          },
          {
            get: () => config.secondary_color || defaultConfig.secondary_color,
            set: (value) => { config.secondary_color = value; window.elementSdk.setConfig({ secondary_color: value }); }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ['warung_name', config.warung_name || defaultConfig.warung_name],
        ['hero_title', config.hero_title || defaultConfig.hero_title],
        ['hero_subtitle', config.hero_subtitle || defaultConfig.hero_subtitle],
        ['about_text', config.about_text || defaultConfig.about_text],
        ['whatsapp_number', config.whatsapp_number || defaultConfig.whatsapp_number],
        ['contact_phone', config.contact_phone || defaultConfig.contact_phone],
        ['contact_address', config.contact_address || defaultConfig.contact_address]
      ]);
    }

    function formatPrice(price) {
      return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(price);
    }

    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      menu.classList.toggle('hidden');
      document.body.style.overflow = menu.classList.contains('hidden') ? '' : 'hidden';
    }

    function renderMenu() {
      const grid = document.getElementById('menu-grid');
      const config = window.elementSdk?.config || defaultConfig;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_color || defaultConfig.primary_color;

      grid.innerHTML = menuItems.map((item, index) => `
        <div class="card-menu rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl scale-in" style="background-color: ${surfaceColor}; animation-delay: ${index * 0.1}s">
          <div class="relative h-48 bg-gradient-to-br from-amber-100 to-orange-200 flex items-center justify-center">
            <div class="text-8xl hover:scale-110 transition-transform duration-300">${item.emoji}</div>
          </div>
          <div class="p-5 md:p-6">
            <h3 class="font-display text-xl md:text-2xl font-bold mb-2" style="color: ${textColor}">${item.name}</h3>
            <p class="text-sm md:text-base text-orange-700/70 mb-4">${item.description}</p>
            <div class="flex items-center justify-between mb-5">
              <p class="text-2xl md:text-3xl font-bold" style="color: ${primaryColor}">${formatPrice(item.price)}</p>
            </div>
            <button onclick="openOrderModal('${item.id}')" class="shine-effect w-full text-white font-semibold py-3 md:py-4 rounded-xl shadow-lg hover:shadow-xl transition-all text-sm md:text-base" style="background: linear-gradient(135deg, ${primaryColor}, #dc2626)">
              Pesan Sekarang üõí
            </button>
          </div>
        </div>
      `).join('');

      initScrollAnimations();
    }

    function openOrderModal(itemId) {
      const item = menuItems.find(m => m.id === itemId);
      if (!item) return;

      currentMenuItem = item;
      
      document.getElementById('modal-emoji').textContent = item.emoji;
      document.getElementById('modal-title').textContent = item.name;
      document.getElementById('modal-price').textContent = formatPrice(item.price);

      const modal = document.getElementById('order-modal');
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeOrderModal() {
      const modal = document.getElementById('order-modal');
      modal.classList.add('hidden');
      document.body.style.overflow = '';
      document.querySelector('#order-modal form').reset();
      currentMenuItem = null;
    }

    async function submitOrder(event) {
      event.preventDefault();

      if (orders.length >= 999) {
        showToast('Batas pesanan tercapai! Maksimum 999 pesanan.');
        return;
      }

      if (!currentMenuItem) return;

      const form = event.target;
      const submitBtn = document.getElementById('submit-order-btn');
      
      submitBtn.disabled = true;
      submitBtn.textContent = 'Memproses...';

      const quantity = parseInt(form['quantity'].value);
      const orderData = {
        id: `${currentMenuItem.id}-${Date.now()}`,
        customer_name: form['customer-name'].value,
        phone: form['phone'].value,
        table_number: form['table-number'].value || '-',
        order_items: `${currentMenuItem.name} (${quantity}x)`,
        total_price: currentMenuItem.price * quantity,
        notes: form['order-notes'].value || '-',
        order_time: new Date().toISOString(),
        status: 'pending'
      };

      const result = await window.dataSdk.create(orderData);

      submitBtn.disabled = false;
      submitBtn.textContent = 'Pesan Sekarang';

      if (!result.isOk) {
        showToast('Gagal membuat pesanan');
        return;
      }

      closeOrderModal();
      showToast(`${currentMenuItem.name} berhasil dipesan!`);
    }

    function renderOrders() {
      const container = document.getElementById('orders-list');

      if (orders.length === 0) {
        container.innerHTML = `
          <div class="flex flex-col items-center justify-center h-full text-center py-12">
            <div class="text-8xl mb-4">üçΩÔ∏è</div>
            <p class="text-orange-700 text-lg">Belum ada pesanan</p>
            <p class="text-orange-600 text-sm mt-2">Pesan menu favorit Anda!</p>
          </div>
        `;
        return;
      }

      container.innerHTML = orders.map(order => `
        <div class="bg-white rounded-2xl p-4 mb-4 shadow-md">
          <div class="flex justify-between items-start mb-2">
            <div class="flex-1">
              <h4 class="font-semibold text-orange-900 text-lg">${order.order_items}</h4>
              <p class="text-orange-600 text-sm">${order.customer_name}</p>
              ${order.table_number !== '-' ? `<p class="text-orange-600 text-sm">Meja: ${order.table_number}</p>` : ''}
              ${order.notes !== '-' ? `<p class="text-orange-500 text-xs italic mt-1">"${order.notes}"</p>` : ''}
            </div>
            <button onclick="cancelOrder('${order.__backendId}')" class="p-2 text-red-500 hover:bg-red-50 rounded-full transition-colors">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
              </svg>
            </button>
          </div>
          <div class="pt-2 border-t border-orange-100">
            <p class="text-orange-600 font-bold text-lg">Total: ${formatPrice(order.total_price)}</p>
          </div>
        </div>
      `).join('');
    }

    async function cancelOrder(backendId) {
      const order = orders.find(o => o.__backendId === backendId);
      if (order) {
        await window.dataSdk.delete(order);
        showToast('Pesanan dibatalkan');
      }
    }

    function updateOrderBadge() {
      const badge = document.getElementById('order-badge');
      const mobileBadge = document.getElementById('mobile-order-badge');
      const total = orders.length;
      
      if (total > 0) {
        const displayText = total > 99 ? '99+' : total;
        badge.textContent = displayText;
        badge.classList.remove('hidden');
        if (mobileBadge) {
          mobileBadge.textContent = displayText;
          mobileBadge.classList.remove('hidden');
        }
      } else {
        badge.classList.add('hidden');
        if (mobileBadge) {
          mobileBadge.classList.add('hidden');
        }
      }
    }

    function toggleOrders() {
      const sidebar = document.getElementById('orders-sidebar');
      sidebar.classList.toggle('hidden');
      document.body.style.overflow = sidebar.classList.contains('hidden') ? '' : 'hidden';
    }

    function openContactModal() {
      const modal = document.getElementById('contact-modal');
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeContactModal() {
      const modal = document.getElementById('contact-modal');
      modal.classList.add('hidden');
      document.body.style.overflow = '';
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toast-message');
      
      toastMessage.textContent = message;
      toast.classList.remove('translate-y-32', 'opacity-0');
      
      setTimeout(() => {
        toast.classList.add('translate-y-32', 'opacity-0');
      }, 3000);
    }

    async function init() {
      if (window.elementSdk) {
        await window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities,
          mapToEditPanelValues
        });
      }

      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          console.error('Failed to initialize Data SDK');
        }
      }

      renderMenu();
      initScrollAnimations();
    }

    function initScrollAnimations() {
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -100px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('revealed');
          }
        });
      }, observerOptions);

      const animatedElements = document.querySelectorAll('.scroll-reveal, .scale-in');
      animatedElements.forEach(el => observer.observe(el));
    }

    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c6ee556100f9185',t:'MTc2OTkyMjEzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>